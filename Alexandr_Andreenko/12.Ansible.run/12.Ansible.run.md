# 12.Ansible.run

# Creating user

```
PLAY [HQS] ****************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:08:58 +0300 (0:00:00.024)       0:00:00.024 ****** 
ok: [ubuntu]
ok: [centos]

TASK [Creating user "Alexandr"] *******************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:01 +0300 (0:00:03.599)       0:00:03.624 ****** 
ok: [ubuntu]
ok: [centos]

TASK [Authentication] *****************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:03 +0300 (0:00:01.711)       0:00:05.335 ****** 
ok: [centos]
ok: [ubuntu]

TASK [Install sudo on Centos] *********************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:04 +0300 (0:00:01.328)       0:00:06.664 ****** 
skipping: [ubuntu]
[WARNING]: Consider using the yum module rather than running 'yum'.  If you need to use command because yum is insufficient you can add 'warn: false' to this command task or set 'command_warnings=False' in
ansible.cfg to get rid of this message.
changed: [centos]

TASK [Add user Alexandr for upgrade command] ******************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:09 +0300 (0:00:05.064)       0:00:11.728 ****** 
skipping: [ubuntu]
ok: [centos]

TASK [Add user for upgrade command] ***************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:10 +0300 (0:00:01.000)       0:00:12.728 ****** 
skipping: [centos]
ok: [ubuntu]

TASK [Check user] *********************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:11 +0300 (0:00:01.040)       0:00:13.769 ****** 
changed: [centos]
changed: [ubuntu]

TASK [debug] **************************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:12 +0300 (0:00:01.010)       0:00:14.779 ****** 
ok: [centos] => {
    "msg": [
        "Alexandr:x:1000:1000::/home/Alexandr:/bin/bash",
        "Thu 22 Oct 08:09:12 UTC 2020",
        "LC_PAPER=en_GB.UTF-8",
        "XDG_SESSION_ID=301131",
        "LC_ADDRESS=en_GB.UTF-8",
        "LC_MONETARY=en_GB.UTF-8",
        "TERM=xterm-256color",
        "SHELL=/bin/bash",
        "SSH_CLIENT=192.168.204.82 46050 22",
        "LC_NUMERIC=en_GB.UTF-8",
        "SSH_TTY=/dev/pts/2",
        "USER=root",
        "LS_COLORS=rs=0:di=38;5;27:ln=38;5;51:mh=44;38;5;15:pi=40;38;5;11:so=38;5;13:do=38;5;5:bd=48;5;232;38;5;11:cd=48;5;232;38;5;3:or=48;5;232;38;5;9:mi=05;48;5;232;38;5;15:su=48;5;196;38;5;15:sg=48;5;11;38;5;16:ca=48;5;196;38;5;226:tw=48;5;10;38;5;16:ow=48;5;10;38;5;21:st=48;5;21;38;5;15:ex=38;5;34:*.tar=38;5;9:*.tgz=38;5;9:*.arc=38;5;9:*.arj=38;5;9:*.taz=38;5;9:*.lha=38;5;9:*.lz4=38;5;9:*.lzh=38;5;9:*.lzma=38;5;9:*.tlz=38;5;9:*.txz=38;5;9:*.tzo=38;5;9:*.t7z=38;5;9:*.zip=38;5;9:*.z=38;5;9:*.Z=38;5;9:*.dz=38;5;9:*.gz=38;5;9:*.lrz=38;5;9:*.lz=38;5;9:*.lzo=38;5;9:*.xz=38;5;9:*.bz2=38;5;9:*.bz=38;5;9:*.tbz=38;5;9:*.tbz2=38;5;9:*.tz=38;5;9:*.deb=38;5;9:*.rpm=38;5;9:*.jar=38;5;9:*.war=38;5;9:*.ear=38;5;9:*.sar=38;5;9:*.rar=38;5;9:*.alz=38;5;9:*.ace=38;5;9:*.zoo=38;5;9:*.cpio=38;5;9:*.7z=38;5;9:*.rz=38;5;9:*.cab=38;5;9:*.jpg=38;5;13:*.jpeg=38;5;13:*.gif=38;5;13:*.bmp=38;5;13:*.pbm=38;5;13:*.pgm=38;5;13:*.ppm=38;5;13:*.tga=38;5;13:*.xbm=38;5;13:*.xpm=38;5;13:*.tif=38;5;13:*.tiff=38;5;13:*.png=38;5;13:*.svg=38;5;13:*.svgz=38;5;13:*.mng=38;5;13:*.pcx=38;5;13:*.mov=38;5;13:*.mpg=38;5;13:*.mpeg=38;5;13:*.m2v=38;5;13:*.mkv=38;5;13:*.webm=38;5;13:*.ogm=38;5;13:*.mp4=38;5;13:*.m4v=38;5;13:*.mp4v=38;5;13:*.vob=38;5;13:*.qt=38;5;13:*.nuv=38;5;13:*.wmv=38;5;13:*.asf=38;5;13:*.rm=38;5;13:*.rmvb=38;5;13:*.flc=38;5;13:*.avi=38;5;13:*.fli=38;5;13:*.flv=38;5;13:*.gl=38;5;13:*.dl=38;5;13:*.xcf=38;5;13:*.xwd=38;5;13:*.yuv=38;5;13:*.cgm=38;5;13:*.emf=38;5;13:*.axv=38;5;13:*.anx=38;5;13:*.ogv=38;5;13:*.ogx=38;5;13:*.aac=38;5;45:*.au=38;5;45:*.flac=38;5;45:*.mid=38;5;45:*.midi=38;5;45:*.mka=38;5;45:*.mp3=38;5;45:*.mpc=38;5;45:*.ogg=38;5;45:*.ra=38;5;45:*.wav=38;5;45:*.axa=38;5;45:*.oga=38;5;45:*.spx=38;5;45:*.xspf=38;5;45:",
        "LC_TELEPHONE=en_GB.UTF-8",
        "MAIL=/var/mail/root",
        "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin",
        "LC_IDENTIFICATION=en_GB.UTF-8",
        "PWD=/root",
        "LANG=en_US.UTF-8",
        "LC_MEASUREMENT=en_GB.UTF-8",
        "SHLVL=3",
        "HOME=/root",
        "LOGNAME=root",
        "SSH_CONNECTION=192.168.204.82 46050 192.168.203.1 22",
        "LESSOPEN=||/usr/bin/lesspipe.sh %s",
        "XDG_RUNTIME_DIR=/run/user/0",
        "LC_TIME=en_GB.UTF-8",
        "LC_NAME=en_GB.UTF-8",
        "_=/usr/bin/env"
    ]
}
ok: [ubuntu] => {
    "msg": [
        "Alexandr:x:1000:1000::/home/Alexandr:/bin/sh",
        "Thu Oct 22 08:09:12 UTC 2020",
        "MAIL=/var/mail/root",
        "USER=root",
        "SSH_CLIENT=192.168.204.82 55194 22",
        "LC_TIME=en_GB.UTF-8",
        "SHLVL=1",
        "HOME=/root",
        "SSH_TTY=/dev/pts/2",
        "LC_MONETARY=en_GB.UTF-8",
        "LOGNAME=root",
        "_=/bin/sh",
        "XDG_SESSION_ID=301129",
        "TERM=xterm-256color",
        "PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",
        "LC_ADDRESS=en_GB.UTF-8",
        "XDG_RUNTIME_DIR=/run/user/0",
        "LANG=C",
        "LC_TELEPHONE=en_GB.UTF-8",
        "LC_MESSAGES=C",
        "LC_NAME=en_GB.UTF-8",
        "SHELL=/bin/bash",
        "LC_MEASUREMENT=en_GB.UTF-8",
        "LC_IDENTIFICATION=en_GB.UTF-8",
        "PWD=/root",
        "LC_ALL=C",
        "SSH_CONNECTION=192.168.204.82 55194 192.168.203.2 22",
        "LC_NUMERIC=en_GB.UTF-8",
        "LC_PAPER=en_GB.UTF-8"
    ]
}

TASK [System upgrade by Alexandr] *****************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:12 +0300 (0:00:00.053)       0:00:14.833 ****** 
skipping: [ubuntu]
[WARNING]: Consider using 'become', 'become_method', and 'become_user' rather than running sudo
changed: [centos]

TASK [System upgrade by Alexandr] *****************************************************************************************************************************************************************************
Thursday 22 October 2020  11:09:18 +0300 (0:00:05.743)       0:00:20.577 ****** 
skipping: [centos]
changed: [ubuntu]

PLAY RECAP ****************************************************************************************************************************************************************************************************
centos                     : ok=8    changed=3    unreachable=0    failed=0    skipped=2    rescued=0    ignored=0   
ubuntu                     : ok=7    changed=2    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   

Thursday 22 October 2020  11:09:21 +0300 (0:00:03.028)       0:00:23.605 ****** 
=============================================================================== 
System upgrade by Alexandr ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 5.74s
Install sudo on Centos --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 5.06s
Gathering Facts ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 3.60s
System upgrade by Alexandr ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 3.03s
Creating user "Alexandr" ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.71s
Authentication ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.33s
Add user for upgrade command --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.04s
Check user --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.01s
Add user Alexandr for upgrade command ------------------------------------------------------------------------------------------------------------------------------------------------------------------ 1.00s
debug -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.05s

```

# Checking OS RAM Disk

```
PLAY [HQS] ****************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ****************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:16:06 +0300 (0:00:00.024)       0:00:00.024 ****** 
ok: [centos]
ok: [ubuntu]

TASK [Print mounts] *******************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:16:13 +0300 (0:00:07.460)       0:00:07.484 ****** 
ok: [centos] => {
    "msg": {
        "block_available": 1146982,
        "block_size": 4096,
        "block_total": 1531792,
        "block_used": 384810,
        "device": "/dev/mapper/d01-vm--3001--disk--0",
        "fstype": "ext4",
        "inode_available": 367950,
        "inode_total": 393216,
        "inode_used": 25266,
        "mount": "/",
        "options": "rw,relatime",
        "size_available": 4698038272,
        "size_total": 6274220032,
        "uuid": "N/A"
    }
}
ok: [ubuntu] => {
    "msg": {
        "block_available": 1157912,
        "block_size": 4096,
        "block_total": 1531792,
        "block_used": 373880,
        "device": "/dev/mapper/d01-vm--3002--disk--0",
        "fstype": "ext4",
        "inode_available": 366261,
        "inode_total": 393216,
        "inode_used": 26955,
        "mount": "/",
        "options": "rw,relatime",
        "size_available": 4742807552,
        "size_total": 6274220032,
        "uuid": "N/A"
    }
}

TASK [Print OS] ***********************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:16:14 +0300 (0:00:00.092)       0:00:07.577 ****** 
ok: [centos] => {
    "msg": "CentOS | 7.8"
}
ok: [ubuntu] => {
    "msg": "Ubuntu | 18.04"
}

TASK [Print RAM] **********************************************************************************************************************************************************************************************
Thursday 22 October 2020  11:16:14 +0300 (0:00:00.090)       0:00:07.668 ****** 
ok: [centos] => {
    "msg": {
        "free": 2981,
        "total": 4096,
        "used": 1115
    }
}
ok: [ubuntu] => {
    "msg": {
        "free": 3287,
        "total": 4096,
        "used": 809
    }
}

PLAY RECAP ****************************************************************************************************************************************************************************************************
centos                     : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
ubuntu                     : ok=4    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

Thursday 22 October 2020  11:16:14 +0300 (0:00:00.071)       0:00:07.740 ****** 
=============================================================================== 
Gathering Facts ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 7.46s
Print mounts ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.09s
Print OS ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.09s
Print RAM ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 0.07s
Playbook run took 0 days, 0 hours, 0 minutes, 7 seconds

```
